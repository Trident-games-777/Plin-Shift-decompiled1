package com.plinkofortune.cash.winspin.nav;

import android.graphics.Bitmap;
import android.net.Uri;
import android.os.Bundle;
import android.view.View;
import android.view.ViewGroup;
import android.webkit.WebView;
import android.widget.FrameLayout;
import androidx.core.view.ViewGroupKt;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentActivity;
import androidx.lifecycle.DefaultLifecycleObserver;
import androidx.lifecycle.LifecycleOwner;
import com.google.common.base.Ascii;
import com.plinkofortune.cash.winspin.StringFog;
import com.plinkofortune.cash.winspin.profile.BkvixMRQDbqY;
import com.plinkofortune.cash.winspin.profile.PcAtMNHQpJHd;
import com.plinkofortune.cash.winspin.profile.XTFyRyDbXjP;
import com.plinkofortune.cash.winspin.terms.BkcRXzpXGNH;
import java.util.List;
import kotlin.Metadata;
import kotlin.Unit;
import kotlin.coroutines.Continuation;
import kotlin.io.encoding.Base64;
import kotlin.jvm.functions.Function0;
import kotlin.jvm.functions.Function1;
import kotlin.jvm.internal.DefaultConstructorMarker;
import kotlin.jvm.internal.Intrinsics;
import kotlin.sequences.SequencesKt;
import okio.Utf8;

@Metadata(d1 = {"\u0000{\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0018\u0002\n\u0000\n\u0002\u0018\u0002\n\u0000\n\u0002\u0010\b\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0003\n\u0002\u0010\u000b\n\u0000\n\u0002\u0018\u0002\n\u0002\b\u0002\n\u0002\u0018\u0002\n\u0002\u0010\u0002\n\u0000\n\u0002\b\t\n\u0002\u0010\u000e\n\u0000\n\u0002\u0018\u0002\n\u0002\b\t\n\u0002\u0018\u0002\n\u0002\u0018\u0002\n\u0002\b\u0004\n\u0002\u0018\u0002\n\u0002\b\u0005\n\u0002\u0018\u0002\n\u0000*\u0001\u001c\b\u0007\u0018\u00002\u00020\u0001B%\u0012\u0006\u0010\u0002\u001a\u00020\u0003\u0012\n\b\u0002\u0010\u0004\u001a\u0004\u0018\u00010\u0001\u0012\b\b\u0002\u0010\u0005\u001a\u00020\u0006¢\u0006\u0004\b\u0007\u0010\bJ\u0006\u0010\u001e\u001a\u00020\u001aJ\u0018\u0010\u001f\u001a\u00020\u001a2\u0006\u0010 \u001a\u00020\u00142\b\b\u0002\u0010!\u001a\u00020\u0014J\u0006\u0010\"\u001a\u00020\u001aJ\u000e\u0010#\u001a\u00020\u001a2\u0006\u0010$\u001a\u00020%J\u0018\u0010#\u001a\u00020\u001a2\u0006\u0010$\u001a\u00020%2\b\u0010&\u001a\u0004\u0018\u00010'J \u0010(\u001a\u0004\u0018\u00010%2\u0006\u0010$\u001a\u00020%2\u0006\u0010)\u001a\u00020%H@¢\u0006\u0002\u0010*J\u0016\u0010+\u001a\u00020\u001a2\f\u0010,\u001a\b\u0012\u0004\u0012\u00020\u001a0\u0019H\u0002J\b\u0010-\u001a\u00020\u001aH\u0002J\"\u0010.\u001a\u00020\u001a2\u0006\u0010/\u001a\u00020\u00142\u0012\u00100\u001a\u000e\u0012\u0004\u0012\u000202\u0012\u0004\u0012\u00020\u001a01J\u0006\u00103\u001a\u00020\u001aJ\u0006\u00104\u001a\u00020\nJ\u001c\u00105\u001a\u00020\u001a2\b\u0010$\u001a\u0004\u0018\u00010%2\b\u00106\u001a\u0004\u0018\u000107H\u0016J\u0012\u00108\u001a\u00020\u001a2\b\u0010$\u001a\u0004\u0018\u00010%H\u0016J\u001c\u00109\u001a\u00020\u001a2\b\u0010:\u001a\u0004\u0018\u0001022\b\u0010$\u001a\u0004\u0018\u00010%H\u0016J\u0012\u0010;\u001a\u00020\u001a2\b\u0010<\u001a\u0004\u0018\u00010=H\u0016R\u000e\u0010\u0002\u001a\u00020\u0003X\u0004¢\u0006\u0002\n\u0000R\u0010\u0010\u0004\u001a\u0004\u0018\u00010\u0001X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u0005\u001a\u00020\u0006X\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\t\u001a\u00020\nX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\u000b\u001a\u00020\fX\u0004¢\u0006\u0002\n\u0000R\u000e\u0010\r\u001a\u00020\u000eXD¢\u0006\u0002\n\u0000R\u0018\u0010\u000f\u001a\n \u0011*\u0004\u0018\u00010\u00100\u0010X\u0004¢\u0006\u0004\n\u0002\u0010\u0012R\u000e\u0010\u0013\u001a\u00020\u0014X\u000e¢\u0006\u0002\n\u0000R\u0010\u0010\u0015\u001a\u0004\u0018\u00010\u0016X\u000e¢\u0006\u0002\n\u0000R\u000e\u0010\u0017\u001a\u00020\u0014X\u000e¢\u0006\u0002\n\u0000R\u0016\u0010\u0018\u001a\n\u0012\u0004\u0012\u00020\u001a\u0018\u00010\u0019X\u000e¢\u0006\u0002\n\u0000R\u0010\u0010\u001b\u001a\u00020\u001cX\u0004¢\u0006\u0004\n\u0002\u0010\u001d¨\u0006>"}, d2 = {"Lcom/plinkofortune/cash/winspin/nav/OgNFEsnlSFL;", "Lcom/plinkofortune/cash/winspin/terms/BkcRXzpXGNH;", "activity", "Landroidx/fragment/app/FragmentActivity;", "webListener", "visibilityType", "Lcom/plinkofortune/cash/winspin/profile/XTFyRyDbXjP;", "<init>", "(Landroidx/fragment/app/FragmentActivity;Lcom/plinkofortune/cash/winspin/terms/BkcRXzpXGNH;Lcom/plinkofortune/cash/winspin/profile/XTFyRyDbXjP;)V", "savedStateHelper", "Lcom/plinkofortune/cash/winspin/profile/BkvixMRQDbqY;", "fragmentContainer", "Landroid/widget/FrameLayout;", "containerId", "", "content", "Landroid/view/ViewGroup;", "kotlin.jvm.PlatformType", "Landroid/view/ViewGroup;", "isVisibleNow", "", "rootFragment", "Lcom/plinkofortune/cash/winspin/profile/PcAtMNHQpJHd;", "isActivityResumed", "lastCall", "Lkotlin/Function0;", "", "backPressedCallback", "com/plinkofortune/cash/winspin/nav/OgNFEsnlSFL$backPressedCallback$1", "Lcom/plinkofortune/cash/winspin/nav/OgNFEsnlSFL$backPressedCallback$1;", "removeView", "y90", "isVisible", "autoHide", "disableBackPressCallback", "load", "url", "", "savedInstanceState", "Landroid/os/Bundle;", "awaitUrl", "headerKey", "(Ljava/lang/String;Ljava/lang/String;Lkotlin/coroutines/Continuation;)Ljava/lang/Object;", "runDelayedTransaction", "action", "createRootFragment", "openNewTab", "isDialog", "onWebViewCreated", "Lkotlin/Function1;", "Landroid/webkit/WebView;", "closeTopTab", "getSavedStateHelper", "onPageStarted", "favicon", "Landroid/graphics/Bitmap;", "onPageCommitVisible", "onPageFinished", "view", "shouldOverrideUrlLoading", "uri", "Landroid/net/Uri;", "app_release"}, k = 1, mv = {2, 0, 0}, xi = 48)
/* compiled from: OgNFEsnlSFL.kt */
public final class OgNFEsnlSFL implements BkcRXzpXGNH {
    public static final int $stable = 8;
    /* access modifiers changed from: private */
    public final FragmentActivity activity;
    private final OgNFEsnlSFL$backPressedCallback$1 backPressedCallback;
    private final int containerId;
    private final ViewGroup content;
    private final FrameLayout fragmentContainer;
    /* access modifiers changed from: private */
    public boolean isActivityResumed;
    private boolean isVisibleNow;
    /* access modifiers changed from: private */
    public Function0<Unit> lastCall;
    private PcAtMNHQpJHd rootFragment;
    private final BkvixMRQDbqY savedStateHelper;
    private final XTFyRyDbXjP visibilityType;
    private final BkcRXzpXGNH webListener;

    public OgNFEsnlSFL(FragmentActivity fragmentActivity, BkcRXzpXGNH bkcRXzpXGNH, XTFyRyDbXjP xTFyRyDbXjP) {
        int i = 8;
        Intrinsics.checkNotNullParameter(fragmentActivity, StringFog.decrypt(new byte[]{-94, 106, Ascii.FS, -82, -48, -117, 89, 87}, new byte[]{-61, 9, 104, -57, -90, -30, 45, 46}));
        Intrinsics.checkNotNullParameter(xTFyRyDbXjP, StringFog.decrypt(new byte[]{Ascii.DC4, Ascii.US, -13, -67, Ascii.SYN, 112, -75, -115, Ascii.SYN, Ascii.SI, -44, -83, 4, 124}, new byte[]{98, 118, Byte.MIN_VALUE, -44, 116, Ascii.EM, -39, -28}));
        this.activity = fragmentActivity;
        this.webListener = bkcRXzpXGNH;
        this.visibilityType = xTFyRyDbXjP;
        this.savedStateHelper = new BkvixMRQDbqY(fragmentActivity);
        this.fragmentContainer = new FrameLayout(fragmentActivity);
        this.containerId = 16908290;
        this.content = (ViewGroup) fragmentActivity.findViewById(16908290);
        this.backPressedCallback = new OgNFEsnlSFL$backPressedCallback$1(this);
        try {
            List<Fragment> fragments = fragmentActivity.getSupportFragmentManager().getFragments();
            Intrinsics.checkNotNullExpressionValue(fragments, StringFog.decrypt(new byte[]{-18, 70, 43, 10, -114, 62, -98, Ascii.US, -20, 77, 43, Utf8.REPLACEMENT_BYTE, -44, 113, -41, 92, -96}, new byte[]{-119, 35, 95, 76, -4, 95, -7, 114}));
            for (Fragment remove : fragments) {
                this.activity.getSupportFragmentManager().beginTransaction().remove(remove).commitNow();
            }
        } catch (Exception unused) {
        }
        this.content.addView(this.fragmentContainer);
        this.fragmentContainer.setId(View.generateViewId());
        this.fragmentContainer.setVisibility(this.isVisibleNow ? 0 : i);
        this.activity.getLifecycle().addObserver(new DefaultLifecycleObserver(this) {
            final /* synthetic */ OgNFEsnlSFL this$0;

            {
                this.this$0 = r1;
            }

            public void onResume(LifecycleOwner lifecycleOwner) {
                Intrinsics.checkNotNullParameter(lifecycleOwner, StringFog.decrypt(new byte[]{-96, -44, 38, -33, 51}, new byte[]{-49, -93, 72, -70, 65, -86, 88, -103}));
                this.this$0.isActivityResumed = true;
                Function0 access$getLastCall$p = this.this$0.lastCall;
                if (access$getLastCall$p != null) {
                    access$getLastCall$p.invoke();
                }
                this.this$0.lastCall = null;
            }

            public void onPause(LifecycleOwner lifecycleOwner) {
                Intrinsics.checkNotNullParameter(lifecycleOwner, StringFog.decrypt(new byte[]{62, -80, 123, -67, -47}, new byte[]{81, -57, Ascii.NAK, -40, -93, 52, 100, 112}));
                this.this$0.isActivityResumed = false;
            }
        });
        this.activity.getOnBackPressedDispatcher().addCallback(this.activity, this.backPressedCallback);
        createRootFragment();
    }

    /* JADX INFO: this call moved to the top of the method (can break code semantics) */
    public /* synthetic */ OgNFEsnlSFL(FragmentActivity fragmentActivity, BkcRXzpXGNH bkcRXzpXGNH, XTFyRyDbXjP xTFyRyDbXjP, int i, DefaultConstructorMarker defaultConstructorMarker) {
        this(fragmentActivity, (i & 2) != 0 ? null : bkcRXzpXGNH, (i & 4) != 0 ? XTFyRyDbXjP.CCZNlhfQEGW : xTFyRyDbXjP);
    }

    public final void removeView() {
        this.content.removeView(this.fragmentContainer);
    }

    public static /* synthetic */ void y90$default(OgNFEsnlSFL ogNFEsnlSFL, boolean z, boolean z2, int i, Object obj) {
        if ((i & 2) != 0) {
            z2 = false;
        }
        ogNFEsnlSFL.y90(z, z2);
    }

    public final void y90(boolean z, boolean z2) {
        if (!this.isVisibleNow) {
            this.fragmentContainer.setVisibility(0);
            if (z2) {
                ViewGroup viewGroup = this.content;
                Intrinsics.checkNotNullExpressionValue(viewGroup, StringFog.decrypt(new byte[]{-40, 8, -31, -26, 35, 71, 91}, new byte[]{-69, 103, -113, -110, 70, 41, 47, 88}));
                for (View visibility : SequencesKt.filter(ViewGroupKt.getChildren(viewGroup), new OgNFEsnlSFL$$ExternalSyntheticLambda5(this))) {
                    visibility.setVisibility(8);
                }
            }
        }
        this.isVisibleNow = z;
        if (z) {
            this.fragmentContainer.requestFocus();
        }
    }

    /* access modifiers changed from: private */
    public static final boolean y90$lambda$1(OgNFEsnlSFL ogNFEsnlSFL, View view) {
        Intrinsics.checkNotNullParameter(view, StringFog.decrypt(new byte[]{-54, 123}, new byte[]{-93, Ascii.SI, 67, -104, 34, 114, -54, 112}));
        return !Intrinsics.areEqual((Object) view, (Object) ogNFEsnlSFL.fragmentContainer);
    }

    public final void disableBackPressCallback() {
        this.backPressedCallback.remove();
    }

    public final void load(String str) {
        Intrinsics.checkNotNullParameter(str, StringFog.decrypt(new byte[]{-47, Ascii.SO, -41}, new byte[]{-92, 124, -69, 75, 88, 103, -61, -14}));
        PcAtMNHQpJHd pcAtMNHQpJHd = this.rootFragment;
        if (pcAtMNHQpJHd != null) {
            pcAtMNHQpJHd.loadUrl(str);
        }
    }

    public final void load(String str, Bundle bundle) {
        Intrinsics.checkNotNullParameter(str, StringFog.decrypt(new byte[]{51, 105, -33}, new byte[]{70, Ascii.ESC, -77, -85, -117, -39, 84, -44}));
        this.savedStateHelper.restore(bundle, new OgNFEsnlSFL$load$1(this), new OgNFEsnlSFL$$ExternalSyntheticLambda0(this, str));
    }

    /* access modifiers changed from: private */
    public static final Unit load$lambda$3(OgNFEsnlSFL ogNFEsnlSFL, String str) {
        PcAtMNHQpJHd pcAtMNHQpJHd = ogNFEsnlSFL.rootFragment;
        if (pcAtMNHQpJHd != null) {
            pcAtMNHQpJHd.loadUrl(str);
        }
        return Unit.INSTANCE;
    }

    public final Object awaitUrl(String str, String str2, Continuation<? super String> continuation) {
        PcAtMNHQpJHd pcAtMNHQpJHd = this.rootFragment;
        if (pcAtMNHQpJHd != null) {
            return pcAtMNHQpJHd.awaitUrl(str, str2, continuation);
        }
        return null;
    }

    private final void runDelayedTransaction(Function0<Unit> function0) {
        if (!this.isActivityResumed) {
            this.lastCall = function0;
        } else {
            function0.invoke();
        }
    }

    private final void createRootFragment() {
        PcAtMNHQpJHd.Companion.newInstance(this, false, true, new OgNFEsnlSFL$$ExternalSyntheticLambda1(this));
    }

    /* access modifiers changed from: private */
    public static final Unit createRootFragment$lambda$5(OgNFEsnlSFL ogNFEsnlSFL, Fragment fragment, PcAtMNHQpJHd pcAtMNHQpJHd) {
        Intrinsics.checkNotNullParameter(fragment, StringFog.decrypt(new byte[]{-65}, new byte[]{-39, -115, -54, -71, 99, -126, -17, -77}));
        Intrinsics.checkNotNullParameter(pcAtMNHQpJHd, StringFog.decrypt(new byte[]{110}, new byte[]{7, Byte.MAX_VALUE, 32, -115, -76, -51, -65, -14}));
        ogNFEsnlSFL.runDelayedTransaction(new OgNFEsnlSFL$$ExternalSyntheticLambda6(ogNFEsnlSFL, fragment));
        ogNFEsnlSFL.rootFragment = pcAtMNHQpJHd;
        return Unit.INSTANCE;
    }

    /* access modifiers changed from: private */
    public static final Unit createRootFragment$lambda$5$lambda$4(OgNFEsnlSFL ogNFEsnlSFL, Fragment fragment) {
        ogNFEsnlSFL.activity.getSupportFragmentManager().beginTransaction().replace(ogNFEsnlSFL.fragmentContainer.getId(), fragment).commit();
        return Unit.INSTANCE;
    }

    public final void openNewTab(boolean z, Function1<? super WebView, Unit> function1) {
        Intrinsics.checkNotNullParameter(function1, StringFog.decrypt(new byte[]{-73, 67, 56, -111, -47, 111, -23, 88, -81, 110, Ascii.GS, -111, -46, 77, -27, 89}, new byte[]{-40, 45, 111, -12, -77, 57, Byte.MIN_VALUE, Base64.padSymbol}));
        PcAtMNHQpJHd.Companion.newInstance(this, z, false, new OgNFEsnlSFL$$ExternalSyntheticLambda2(function1, this));
    }

    /* access modifiers changed from: private */
    public static final Unit openNewTab$lambda$7(Function1 function1, OgNFEsnlSFL ogNFEsnlSFL, Fragment fragment, PcAtMNHQpJHd pcAtMNHQpJHd) {
        Intrinsics.checkNotNullParameter(fragment, StringFog.decrypt(new byte[]{87}, new byte[]{49, -55, -127, 67, 86, -47, 113, 40}));
        Intrinsics.checkNotNullParameter(pcAtMNHQpJHd, StringFog.decrypt(new byte[]{112}, new byte[]{Ascii.EM, -121, 85, 118, 92, 92, -37, -50}));
        pcAtMNHQpJHd.setOnWebViewCreatedListener(function1);
        ogNFEsnlSFL.runDelayedTransaction(new OgNFEsnlSFL$$ExternalSyntheticLambda4(ogNFEsnlSFL, fragment));
        return Unit.INSTANCE;
    }

    /* access modifiers changed from: private */
    public static final Unit openNewTab$lambda$7$lambda$6(OgNFEsnlSFL ogNFEsnlSFL, Fragment fragment) {
        ogNFEsnlSFL.activity.getSupportFragmentManager().beginTransaction().add(ogNFEsnlSFL.fragmentContainer.getId(), fragment).addToBackStack((String) null).commit();
        return Unit.INSTANCE;
    }

    public final void closeTopTab() {
        runDelayedTransaction(new OgNFEsnlSFL$$ExternalSyntheticLambda3(this));
    }

    /* access modifiers changed from: private */
    public static final Unit closeTopTab$lambda$8(OgNFEsnlSFL ogNFEsnlSFL) {
        ogNFEsnlSFL.activity.getSupportFragmentManager().popBackStack();
        ogNFEsnlSFL.activity.getSupportFragmentManager().executePendingTransactions();
        return Unit.INSTANCE;
    }

    public final BkvixMRQDbqY getSavedStateHelper() {
        return this.savedStateHelper;
    }

    public void onPageStarted(String str, Bitmap bitmap) {
        BkcRXzpXGNH bkcRXzpXGNH = this.webListener;
        if (bkcRXzpXGNH != null) {
            bkcRXzpXGNH.onPageStarted(str, bitmap);
        }
    }

    public void onPageCommitVisible(String str) {
        if (this.visibilityType == XTFyRyDbXjP.ZUxzvQQfGfW && !this.isVisibleNow) {
            y90$default(this, true, false, 2, (Object) null);
            this.isVisibleNow = true;
        }
        BkcRXzpXGNH bkcRXzpXGNH = this.webListener;
        if (bkcRXzpXGNH != null) {
            bkcRXzpXGNH.onPageCommitVisible(str);
        }
    }

    public void onPageFinished(WebView webView, String str) {
        if (this.visibilityType == XTFyRyDbXjP.CCZNlhfQEGW && !this.isVisibleNow) {
            y90$default(this, true, false, 2, (Object) null);
            this.isVisibleNow = true;
        }
        BkcRXzpXGNH bkcRXzpXGNH = this.webListener;
        if (bkcRXzpXGNH != null) {
            bkcRXzpXGNH.onPageFinished(webView, str);
        }
    }

    public void shouldOverrideUrlLoading(Uri uri) {
        BkcRXzpXGNH bkcRXzpXGNH = this.webListener;
        if (bkcRXzpXGNH != null) {
            bkcRXzpXGNH.shouldOverrideUrlLoading(uri);
        }
    }
}
